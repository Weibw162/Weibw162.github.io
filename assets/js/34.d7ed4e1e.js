(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{371:function(t,e,v){"use strict";v.r(e);var _=v(7),s=Object(_.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h2",{attrs:{id:"一、kettle下载"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、kettle下载"}},[t._v("#")]),t._v(" 一、Kettle下载")]),t._v(" "),e("h3",{attrs:{id:"_1-1、下载地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-1、下载地址"}},[t._v("#")]),t._v(" 1.1、下载地址")]),t._v(" "),e("p",[t._v("官网地址")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://community.hitachivantara.com/docs/DOC-1009855",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://community.hitachivantara.com/docs/DOC-1009855"),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("下载地址")]),t._v(" "),e("p",[t._v("[https://sourceforge.net/projects/pentaho/files/DataIntegration](https://sourceforge.net/projects/pentaho/files/Data Integration)")]),t._v(" "),e("h3",{attrs:{id:"_1-2、kettle目录说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-2、kettle目录说明"}},[t._v("#")]),t._v(" 1.2、Kettle目录说明")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.4l1q7l6145y0.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_1-3、kettle文件说明"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1-3、kettle文件说明"}},[t._v("#")]),t._v(" 1.3、Kettle文件说明")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.486y3n8p6m60.webp",alt:"image"}})]),t._v(" "),e("h2",{attrs:{id:"二、kettle安装部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、kettle安装部署"}},[t._v("#")]),t._v(" 二、Kettle安装部署")]),t._v(" "),e("h3",{attrs:{id:"_2-1、概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1、概述"}},[t._v("#")]),t._v(" 2.1、概述")]),t._v(" "),e("p",[t._v("在实际企业开发中，都是在本地Windows环境下进行kettle的job和Transformation开发的，可以在本地运行，也可以连接远程机器运行")]),t._v(" "),e("h3",{attrs:{id:"_2-2、安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2、安装"}},[t._v("#")]),t._v(" 2.2、安装")]),t._v(" "),e("ol",[e("li",[t._v("安装jdk，版本建议1.8及以上")]),t._v(" "),e("li",[t._v("下载kettle压缩包，因kettle为绿色软件，解压缩到任意本地路径即可")]),t._v(" "),e("li",[t._v("双击Spoon.bat，启动图形化界面工具，就可以直接使用了")])]),t._v(" "),e("h2",{attrs:{id:"三、kettle界面简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、kettle界面简介"}},[t._v("#")]),t._v(" 三、Kettle界面简介")]),t._v(" "),e("h3",{attrs:{id:"_3-1、首页"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1、首页"}},[t._v("#")]),t._v(" 3.1、首页")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.1jjtiw4hpiow.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_3-2、转换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2、转换"}},[t._v("#")]),t._v(" 3.2、转换")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.xlg6n73phy8.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_3-3、作业"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3、作业"}},[t._v("#")]),t._v(" 3.3、作业")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.5643ispfs6g0.webp",alt:"image"}})]),t._v(" "),e("h2",{attrs:{id:"四、kettle转换初次体验"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、kettle转换初次体验"}},[t._v("#")]),t._v(" 四、Kettle转换初次体验")]),t._v(" "),e("p",[t._v("体验案例：将csv文件用Kettle转换成excel文件")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.mnaqf2fqnhs.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("1、1） 在Kettle中新建一个转换，然后选择转换下面的“csv文件输入”和“Excel输出”控件")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.6i4tw58os180.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("2、1） 双击CSV文件输入文件控件，在弹出的设置框里找到对应的csv文件（尚硅谷大数据技术之Kettle\\5.数据\\input\\01_kettle快速体验.csv），然后点击下面的获取字段按钮，将我们需要的字段加载到kettle中")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.6f5wce45op40.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("3、按住键盘SHIFT键，并且点击鼠标左键将两个控件链接起来，链接时选择“主输出步骤”")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.6he1qehp4og0.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("4、双击Excel输出控件，在弹出的设置框里设置文件输出路径和文件名称，然后点击上面的字段框，依次点击下面的获取字段和最小宽度，获取到输出字段。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.36kyvhbwfme0.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("5、点击左上角的启动按钮，在弹出的设置框里点击启动，执行该转换。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.3v8iu5numaa0.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("6、查看kettle下方执行结果日志以及输出路径的Excel文件内容")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.2sovblfvelw0.webp",alt:"image"}})]),t._v(" "),e("h2",{attrs:{id:"五、kettle的核心概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、kettle的核心概念"}},[t._v("#")]),t._v(" 五、Kettle的核心概念")]),t._v(" "),e("h3",{attrs:{id:"_5-1、可视化编程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1、可视化编程"}},[t._v("#")]),t._v(" 5.1、可视化编程")]),t._v(" "),e("p",[t._v("Kettle可以被归类为"),e("strong",[t._v("可视化编程语言")]),t._v("(Visula Programming Languages,VPL),因为Kettle可以使用图形化的方式"),e("strong",[t._v("定义复杂的ETL程序和工作流")]),t._v("。")]),t._v(" "),e("p",[t._v("可视化编程一直是Kettle里的核心概念，它可以让你"),e("strong",[t._v("快速构建复杂的ETL作业")]),t._v("和"),e("strong",[t._v("减低维护工作量")]),t._v("。它通过隐藏很多技术细节，使IT领域更贴近于商务领域。")]),t._v(" "),e("p",[t._v("Kettle里的代码就是"),e("strong",[t._v("转换")]),t._v("和"),e("strong",[t._v("作业")]),t._v("。")]),t._v(" "),e("h3",{attrs:{id:"_5-2、转换"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2、转换"}},[t._v("#")]),t._v(" 5.2、转换")]),t._v(" "),e("p",[e("strong",[t._v("转换")]),t._v("(transaformation)负责数据的输入、转换、校验和输出等工作。Kettle 中使用转换完成数据 ETL 全部工作。转换由多个"),e("strong",[t._v("步骤")]),t._v(" (Step) 组成，如文本文件输入，过滤输出行，执行 SQL 脚本等。各个步骤使用"),e("strong",[t._v("跳")]),t._v(" (Hop) 来链接。 跳定义了一个数据流通道，即数据由一个步骤"),e("strong",[t._v("流 (跳)")]),t._v(" 向下一个步骤。在 Kettle 中数据的最小单位是数据"),e("strong",[t._v("行")]),t._v("（row），数据流中流动其实是缓存的"),e("strong",[t._v("行集")]),t._v(" (RowSet) 。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.4gduhnarhew0.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_5-3、步骤-step"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3、步骤-step"}},[t._v("#")]),t._v(" 5.3、步骤（STEP）")]),t._v(" "),e("p",[e("strong",[t._v("步骤")]),t._v("（控件）是"),e("strong",[t._v("转换")]),t._v("里的基本的组成部分，快速入门的案例中就存在两个步骤，"),e("strong",[t._v("“CSV文件输入”"),e("strong",[t._v("和")]),t._v("“Excel输出”")]),t._v("。")]),t._v(" "),e("p",[t._v("一个步骤有如下几个关键特性：")]),t._v(" "),e("p",[t._v("①步骤需要有一个名字，这个名字在同一个"),e("strong",[t._v("转换范围")]),t._v("内"),e("strong",[t._v("唯一")]),t._v("。")]),t._v(" "),e("p",[t._v("②每个步骤都会"),e("strong",[t._v("读")]),t._v("、"),e("strong",[t._v("写")]),t._v("数据行(唯一例外是“生成记录”步骤，该步骤只写数据)。")]),t._v(" "),e("p",[t._v("③步骤将数据写到与之相连的一个或多个输出"),e("strong",[t._v("跳（hop）")]),t._v("，再传送到跳的另一端的"),e("strong",[t._v("步骤")]),t._v("。")]),t._v(" "),e("p",[t._v("④大多数的步骤都可以有"),e("strong",[t._v("多个输出跳")]),t._v("。一个步骤的数据发送可以被设置为"),e("strong",[t._v("分发")]),t._v("和"),e("strong",[t._v("复制")]),t._v("，分发是目标步骤轮流接收记录，复制是所有的记录被同时发送到所有的目标步骤。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.38hw60xq17a0.webp",alt:"image"}})]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.69wcse76adc0.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_5-4、跳-hop"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4、跳-hop"}},[t._v("#")]),t._v(" 5.4、跳（HOP）")]),t._v(" "),e("p",[e("strong",[t._v("跳")]),t._v("就是步骤之间带箭头的"),e("strong",[t._v("连线")]),t._v("，跳定义了步骤之间的"),e("strong",[t._v("数据通路")]),t._v("。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.130ep5mjb25s.webp",alt:"image"}})]),t._v(" "),e("p",[t._v("跳实际上是两个步骤之间的被称之为"),e("strong",[t._v("行集的数据行缓存")]),t._v("，行集的大小可以在转换的设置里定义。当行集"),e("strong",[t._v("满")]),t._v("了，向行集写数据的步骤将"),e("strong",[t._v("停止")]),t._v("写入，"),e("strong",[t._v("直到")]),t._v("行集里又有了"),e("strong",[t._v("空间")]),t._v("。当行集"),e("strong",[t._v("空")]),t._v("了，从行集读取数据的步骤"),e("strong",[t._v("停止")]),t._v("读取，"),e("strong",[t._v("直到")]),t._v("行集里又有可读的数据行。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.5miah8kfal40.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_5-5、元数据"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-5、元数据"}},[t._v("#")]),t._v(" 5.5、元数据")]),t._v(" "),e("p",[t._v("每个步骤在输出"),e("strong",[t._v("数据行")]),t._v("时都有"),e("strong",[t._v("对字段的描述")]),t._v("，这种描述就是数据行的"),e("strong",[t._v("元数据")]),t._v("。")]),t._v(" "),e("p",[t._v("通常包含下面一些信息。")]),t._v(" "),e("p",[t._v("①名称：数据行里的字段名是唯一的。")]),t._v(" "),e("p",[t._v("②数据类型：字段的数据类型。")]),t._v(" "),e("p",[t._v("③格式：数据显示的方式，如Integer的#、0.00。")]),t._v(" "),e("p",[t._v("④长度：字符串的长度或者BigNumber类型的长度。")]),t._v(" "),e("p",[t._v("⑤精度：BigNumber数据类型的十进制精度。")]),t._v(" "),e("p",[t._v("⑥货币符号：￥")]),t._v(" "),e("p",[t._v("⑦小数点符号:十进制数据的小数点格式。不同文化背景下小数点符号是不同的，一般是点（.）或逗号（，）。")]),t._v(" "),e("p",[t._v("⑧分组符号：数值类型数据的分组符号，不同文化背景下数字里的分组符号也是不同的，一般是点（.）或逗号（，）或单引号（’）")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.2w962ksz2z80.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_5-6、数据类型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-6、数据类型"}},[t._v("#")]),t._v(" 5.6、数据类型")]),t._v(" "),e("p",[t._v("数据以"),e("strong",[t._v("数据行")]),t._v("的形式沿着步骤移动。一个数据行是"),e("strong",[t._v("零到多个字段的集合")]),t._v("，字段包含下面几种数据类型。")]),t._v(" "),e("p",[t._v("①String:字符类型数据")]),t._v(" "),e("p",[t._v("②Number:双精度浮点数。")]),t._v(" "),e("p",[t._v("③Integer:带符号长整型（64位）。")]),t._v(" "),e("p",[t._v("④BigNumber:任意精度数据。")]),t._v(" "),e("p",[t._v("⑤Date:带毫秒精度的日期时间值。")]),t._v(" "),e("p",[t._v("⑥Boolean:取值为true和false的布尔值。")]),t._v(" "),e("p",[t._v("⑦Binary:二进制字段可以包含图像、声音、视频及其他类型的二进制数据。")]),t._v(" "),e("p",[e("img",{attrs:{src:"https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/Kettle/image.1olhi545dug0.webp",alt:"image"}})]),t._v(" "),e("h3",{attrs:{id:"_5-7、并行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-7、并行"}},[t._v("#")]),t._v(" 5.7、并行")]),t._v(" "),e("p",[t._v("跳的这种基于行集缓存的规则允许每个步骤都是由一个"),e("strong",[t._v("独立的线程")]),t._v("运行，这样并发程度最高。这一规则也允许数据以最小消耗内存的数据流的方式来处理。在数据仓库里，我们经常要处理大量数据，所以这种高并发低消耗的方式也是ETL工具的核心需求。")]),t._v(" "),e("p",[t._v("对于kettle的"),e("strong",[t._v("转换")]),t._v("，不能定义一个执行顺序，因为所有步骤都以"),e("strong",[t._v("并发")]),t._v("方式执行：当转换启动后，所有步骤都"),e("strong",[t._v("同时启动")]),t._v("，从它们的输入跳中读取数据，并把处理过的数据写到输出跳，直到输入跳里不再有数据，就中止步骤的运行。当所有的步骤都中止了，整个转换就中止了。")]),t._v(" "),e("p",[t._v("如果你想要一个"),e("strong",[t._v("任务")]),t._v("沿着指定的顺序执行，那么就要使用下面所讲的“"),e("strong",[t._v("作业")]),t._v("”！")]),t._v(" "),e("h3",{attrs:{id:"_5-8、作业"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-8、作业"}},[t._v("#")]),t._v(" 5.8、作业")]),t._v(" "),e("p",[e("strong",[t._v("作业")]),t._v(" (Job)，负责定义一个完成整个工作流的控制，比如将转换的结果发送邮件给相关人员。因为转换（transformation）以并行方式执行，所以必须存在一个串行的调度工具来执行转换，这就是 Kettle中的作业。")])])}),[],!1,null,null,null);e.default=s.exports}}]);