<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Linux下MySQL的安装与使用 | Weibw&#39;s World</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_wawne43ztng.css">
    <script language="javascript" type="text/javascript" src="/js/pgmanor-self.js"></script>
    <meta name="description" content="这一生波澜壮阔或是不惊都没问题">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <meta name="keywords" content="Python,个人技术博客,前端,前端开发,前端框架,web前端,前端面试题,技术文档,学习,面试,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#646cff">
    
    <link rel="preload" href="/assets/css/0.styles.247a10b0.css" as="style"><link rel="preload" href="/assets/js/app.7df3e72d.js" as="script"><link rel="preload" href="/assets/js/2.0f973f23.js" as="script"><link rel="preload" href="/assets/js/3.004d1f99.js" as="script"><link rel="preload" href="/assets/js/20.21ca3cc8.js" as="script"><link rel="prefetch" href="/assets/js/10.7c8e1571.js"><link rel="prefetch" href="/assets/js/100.b641f27c.js"><link rel="prefetch" href="/assets/js/101.97fdbe28.js"><link rel="prefetch" href="/assets/js/102.f2dc82d3.js"><link rel="prefetch" href="/assets/js/103.3fcbf899.js"><link rel="prefetch" href="/assets/js/104.7c2aab32.js"><link rel="prefetch" href="/assets/js/105.58e26f41.js"><link rel="prefetch" href="/assets/js/106.058500b3.js"><link rel="prefetch" href="/assets/js/107.3893d88a.js"><link rel="prefetch" href="/assets/js/108.5c75a42d.js"><link rel="prefetch" href="/assets/js/109.5a3a9ef6.js"><link rel="prefetch" href="/assets/js/11.6c32ce25.js"><link rel="prefetch" href="/assets/js/110.816a8462.js"><link rel="prefetch" href="/assets/js/111.662a7748.js"><link rel="prefetch" href="/assets/js/112.4793ac69.js"><link rel="prefetch" href="/assets/js/113.8193f027.js"><link rel="prefetch" href="/assets/js/114.29617af4.js"><link rel="prefetch" href="/assets/js/115.db52b9f5.js"><link rel="prefetch" href="/assets/js/116.d24c2de0.js"><link rel="prefetch" href="/assets/js/117.76c83092.js"><link rel="prefetch" href="/assets/js/118.f1130142.js"><link rel="prefetch" href="/assets/js/119.9e552f02.js"><link rel="prefetch" href="/assets/js/12.c6335bd0.js"><link rel="prefetch" href="/assets/js/120.32c30027.js"><link rel="prefetch" href="/assets/js/121.c12dd8ef.js"><link rel="prefetch" href="/assets/js/122.107d001a.js"><link rel="prefetch" href="/assets/js/123.2b3d86de.js"><link rel="prefetch" href="/assets/js/124.720c26f7.js"><link rel="prefetch" href="/assets/js/125.81f5cd71.js"><link rel="prefetch" href="/assets/js/126.a09bf2d9.js"><link rel="prefetch" href="/assets/js/127.049b24af.js"><link rel="prefetch" href="/assets/js/128.5686fe09.js"><link rel="prefetch" href="/assets/js/129.5d397181.js"><link rel="prefetch" href="/assets/js/13.7cbf4917.js"><link rel="prefetch" href="/assets/js/130.5e881032.js"><link rel="prefetch" href="/assets/js/131.28b3e40f.js"><link rel="prefetch" href="/assets/js/132.af72b00b.js"><link rel="prefetch" href="/assets/js/133.f91fc73f.js"><link rel="prefetch" href="/assets/js/134.04f336fa.js"><link rel="prefetch" href="/assets/js/135.42cc068c.js"><link rel="prefetch" href="/assets/js/136.be079a4a.js"><link rel="prefetch" href="/assets/js/137.56e7ff2f.js"><link rel="prefetch" href="/assets/js/138.1a5a3d78.js"><link rel="prefetch" href="/assets/js/139.e2779bac.js"><link rel="prefetch" href="/assets/js/14.887f029b.js"><link rel="prefetch" href="/assets/js/140.e1d62467.js"><link rel="prefetch" href="/assets/js/141.f4727572.js"><link rel="prefetch" href="/assets/js/142.f628a48e.js"><link rel="prefetch" href="/assets/js/143.f9b2855d.js"><link rel="prefetch" href="/assets/js/144.dca42b85.js"><link rel="prefetch" href="/assets/js/145.14d415f4.js"><link rel="prefetch" href="/assets/js/146.56b711d3.js"><link rel="prefetch" href="/assets/js/147.e7e29d70.js"><link rel="prefetch" href="/assets/js/148.22fb6b55.js"><link rel="prefetch" href="/assets/js/149.e0815197.js"><link rel="prefetch" href="/assets/js/15.6220a806.js"><link rel="prefetch" href="/assets/js/150.ae39f883.js"><link rel="prefetch" href="/assets/js/151.be5ac292.js"><link rel="prefetch" href="/assets/js/152.185ca4c4.js"><link rel="prefetch" href="/assets/js/153.422ee4e0.js"><link rel="prefetch" href="/assets/js/154.ab4b3692.js"><link rel="prefetch" href="/assets/js/155.3f56b8d4.js"><link rel="prefetch" href="/assets/js/156.fd75d1e3.js"><link rel="prefetch" href="/assets/js/157.edfaf2b5.js"><link rel="prefetch" href="/assets/js/158.147821f4.js"><link rel="prefetch" href="/assets/js/159.2da98f51.js"><link rel="prefetch" href="/assets/js/16.2e8d3534.js"><link rel="prefetch" href="/assets/js/160.20d32d28.js"><link rel="prefetch" href="/assets/js/161.cdf070d6.js"><link rel="prefetch" href="/assets/js/162.e33a540b.js"><link rel="prefetch" href="/assets/js/163.d6350dcf.js"><link rel="prefetch" href="/assets/js/164.fc65d87e.js"><link rel="prefetch" href="/assets/js/165.ced0fe62.js"><link rel="prefetch" href="/assets/js/166.72d5218e.js"><link rel="prefetch" href="/assets/js/167.3dd68940.js"><link rel="prefetch" href="/assets/js/168.28573243.js"><link rel="prefetch" href="/assets/js/169.00beb797.js"><link rel="prefetch" href="/assets/js/17.5ccbb776.js"><link rel="prefetch" href="/assets/js/170.b352598f.js"><link rel="prefetch" href="/assets/js/171.6c73be24.js"><link rel="prefetch" href="/assets/js/172.71b9dfb7.js"><link rel="prefetch" href="/assets/js/173.0a0790ed.js"><link rel="prefetch" href="/assets/js/174.9a072c96.js"><link rel="prefetch" href="/assets/js/175.324878fa.js"><link rel="prefetch" href="/assets/js/176.ebfbb236.js"><link rel="prefetch" href="/assets/js/177.47a059ee.js"><link rel="prefetch" href="/assets/js/178.219d0707.js"><link rel="prefetch" href="/assets/js/179.6cd3c6f9.js"><link rel="prefetch" href="/assets/js/18.e7510230.js"><link rel="prefetch" href="/assets/js/180.d982f8ce.js"><link rel="prefetch" href="/assets/js/181.8b46c4a6.js"><link rel="prefetch" href="/assets/js/182.65efd6ca.js"><link rel="prefetch" href="/assets/js/183.786b72cc.js"><link rel="prefetch" href="/assets/js/184.4a9ed659.js"><link rel="prefetch" href="/assets/js/185.2f0ef6da.js"><link rel="prefetch" href="/assets/js/186.e1d8421b.js"><link rel="prefetch" href="/assets/js/187.661116b1.js"><link rel="prefetch" href="/assets/js/188.949d32fd.js"><link rel="prefetch" href="/assets/js/189.a9e472db.js"><link rel="prefetch" href="/assets/js/19.8cd43b3a.js"><link rel="prefetch" href="/assets/js/190.c8696ecd.js"><link rel="prefetch" href="/assets/js/191.4f3266af.js"><link rel="prefetch" href="/assets/js/192.1b6ba1bc.js"><link rel="prefetch" href="/assets/js/193.59e61be0.js"><link rel="prefetch" href="/assets/js/194.497b3599.js"><link rel="prefetch" href="/assets/js/195.bdf96d56.js"><link rel="prefetch" href="/assets/js/196.5981c66c.js"><link rel="prefetch" href="/assets/js/197.7184d74a.js"><link rel="prefetch" href="/assets/js/198.04ac422d.js"><link rel="prefetch" href="/assets/js/199.a0f8b0d2.js"><link rel="prefetch" href="/assets/js/200.4fe16c16.js"><link rel="prefetch" href="/assets/js/201.93328057.js"><link rel="prefetch" href="/assets/js/202.69b506a3.js"><link rel="prefetch" href="/assets/js/203.bd75950e.js"><link rel="prefetch" href="/assets/js/204.6aa830f9.js"><link rel="prefetch" href="/assets/js/205.ac1d6c38.js"><link rel="prefetch" href="/assets/js/206.1b25e46c.js"><link rel="prefetch" href="/assets/js/207.ee4dfe8d.js"><link rel="prefetch" href="/assets/js/208.0751d7f1.js"><link rel="prefetch" href="/assets/js/209.cb07cd11.js"><link rel="prefetch" href="/assets/js/21.49432e9f.js"><link rel="prefetch" href="/assets/js/210.3ece2306.js"><link rel="prefetch" href="/assets/js/211.60927ade.js"><link rel="prefetch" href="/assets/js/212.139c9371.js"><link rel="prefetch" href="/assets/js/213.c26b9fc0.js"><link rel="prefetch" href="/assets/js/214.8f41d3a7.js"><link rel="prefetch" href="/assets/js/215.37b3206e.js"><link rel="prefetch" href="/assets/js/216.d4815c11.js"><link rel="prefetch" href="/assets/js/217.51268bd4.js"><link rel="prefetch" href="/assets/js/218.b6ae64ab.js"><link rel="prefetch" href="/assets/js/219.c634016b.js"><link rel="prefetch" href="/assets/js/22.c0920caf.js"><link rel="prefetch" href="/assets/js/220.cb700658.js"><link rel="prefetch" href="/assets/js/221.902dacfe.js"><link rel="prefetch" href="/assets/js/222.b9580d80.js"><link rel="prefetch" href="/assets/js/223.aeee2a14.js"><link rel="prefetch" href="/assets/js/224.5f88b567.js"><link rel="prefetch" href="/assets/js/225.b8526ce0.js"><link rel="prefetch" href="/assets/js/226.e40a611a.js"><link rel="prefetch" href="/assets/js/227.3632250b.js"><link rel="prefetch" href="/assets/js/228.29604e03.js"><link rel="prefetch" href="/assets/js/229.cd80b414.js"><link rel="prefetch" href="/assets/js/23.a9feea38.js"><link rel="prefetch" href="/assets/js/230.a9465a43.js"><link rel="prefetch" href="/assets/js/231.eb86ceb2.js"><link rel="prefetch" href="/assets/js/232.8965cec5.js"><link rel="prefetch" href="/assets/js/233.a478bb3c.js"><link rel="prefetch" href="/assets/js/234.45eeeefb.js"><link rel="prefetch" href="/assets/js/235.b8b24625.js"><link rel="prefetch" href="/assets/js/236.cc6359e1.js"><link rel="prefetch" href="/assets/js/237.e64548cd.js"><link rel="prefetch" href="/assets/js/238.40caa6ae.js"><link rel="prefetch" href="/assets/js/239.04295d37.js"><link rel="prefetch" href="/assets/js/24.984b760c.js"><link rel="prefetch" href="/assets/js/240.29646fef.js"><link rel="prefetch" href="/assets/js/241.7c5eb27d.js"><link rel="prefetch" href="/assets/js/242.e3ef5afb.js"><link rel="prefetch" href="/assets/js/243.ddb92950.js"><link rel="prefetch" href="/assets/js/244.7a536e56.js"><link rel="prefetch" href="/assets/js/245.54fdd683.js"><link rel="prefetch" href="/assets/js/246.6d9be882.js"><link rel="prefetch" href="/assets/js/247.0aa3acd2.js"><link rel="prefetch" href="/assets/js/248.f6bf685b.js"><link rel="prefetch" href="/assets/js/249.cd3fc4ba.js"><link rel="prefetch" href="/assets/js/25.52c40432.js"><link rel="prefetch" href="/assets/js/250.a3989ba3.js"><link rel="prefetch" href="/assets/js/251.924aaa43.js"><link rel="prefetch" href="/assets/js/252.3d9a9982.js"><link rel="prefetch" href="/assets/js/253.ac397dbc.js"><link rel="prefetch" href="/assets/js/254.9ba827a1.js"><link rel="prefetch" href="/assets/js/255.c7c82bd0.js"><link rel="prefetch" href="/assets/js/256.b596d6ac.js"><link rel="prefetch" href="/assets/js/257.8ac69f7c.js"><link rel="prefetch" href="/assets/js/258.9db12b32.js"><link rel="prefetch" href="/assets/js/259.81941fe7.js"><link rel="prefetch" href="/assets/js/26.5a48c082.js"><link rel="prefetch" href="/assets/js/260.ef304058.js"><link rel="prefetch" href="/assets/js/261.40addb0d.js"><link rel="prefetch" href="/assets/js/262.3398b716.js"><link rel="prefetch" href="/assets/js/263.e4d81b30.js"><link rel="prefetch" href="/assets/js/264.0f8ef18d.js"><link rel="prefetch" href="/assets/js/265.0b86b8c3.js"><link rel="prefetch" href="/assets/js/266.bb4e22e1.js"><link rel="prefetch" href="/assets/js/267.1cdc8dbd.js"><link rel="prefetch" href="/assets/js/268.1729924e.js"><link rel="prefetch" href="/assets/js/269.b18c7e1b.js"><link rel="prefetch" href="/assets/js/27.5dc19001.js"><link rel="prefetch" href="/assets/js/270.414bf0d7.js"><link rel="prefetch" href="/assets/js/271.74f20361.js"><link rel="prefetch" href="/assets/js/272.bfac4267.js"><link rel="prefetch" href="/assets/js/273.974cc717.js"><link rel="prefetch" href="/assets/js/274.d9bc28b5.js"><link rel="prefetch" href="/assets/js/275.abc92e61.js"><link rel="prefetch" href="/assets/js/276.489ae67f.js"><link rel="prefetch" href="/assets/js/277.3417b370.js"><link rel="prefetch" href="/assets/js/278.fcf590f4.js"><link rel="prefetch" href="/assets/js/279.fff7a8af.js"><link rel="prefetch" href="/assets/js/28.396488e2.js"><link rel="prefetch" href="/assets/js/280.8375468a.js"><link rel="prefetch" href="/assets/js/281.3ffdfc8c.js"><link rel="prefetch" href="/assets/js/282.60c9a5f8.js"><link rel="prefetch" href="/assets/js/283.9e3e2632.js"><link rel="prefetch" href="/assets/js/284.9f093b66.js"><link rel="prefetch" href="/assets/js/285.61969650.js"><link rel="prefetch" href="/assets/js/286.dced6a7f.js"><link rel="prefetch" href="/assets/js/287.d9581c66.js"><link rel="prefetch" href="/assets/js/288.6c62afc6.js"><link rel="prefetch" href="/assets/js/289.4bc56f56.js"><link rel="prefetch" href="/assets/js/29.8a9414f2.js"><link rel="prefetch" href="/assets/js/290.b961e5dd.js"><link rel="prefetch" href="/assets/js/291.80e5a0bd.js"><link rel="prefetch" href="/assets/js/292.112e9101.js"><link rel="prefetch" href="/assets/js/293.c443387d.js"><link rel="prefetch" href="/assets/js/294.de1a993a.js"><link rel="prefetch" href="/assets/js/295.f0acbbe2.js"><link rel="prefetch" href="/assets/js/296.058d3917.js"><link rel="prefetch" href="/assets/js/297.5b2d4a23.js"><link rel="prefetch" href="/assets/js/298.c47d74ab.js"><link rel="prefetch" href="/assets/js/299.8f65bb15.js"><link rel="prefetch" href="/assets/js/30.86f84f9d.js"><link rel="prefetch" href="/assets/js/300.2d0547bc.js"><link rel="prefetch" href="/assets/js/301.e57d9634.js"><link rel="prefetch" href="/assets/js/302.cc227811.js"><link rel="prefetch" href="/assets/js/303.e2338664.js"><link rel="prefetch" href="/assets/js/304.4e6f8e31.js"><link rel="prefetch" href="/assets/js/305.8c5a1e2a.js"><link rel="prefetch" href="/assets/js/306.085c742c.js"><link rel="prefetch" href="/assets/js/307.7528f174.js"><link rel="prefetch" href="/assets/js/308.d9dd5ad4.js"><link rel="prefetch" href="/assets/js/309.3e9fa8c7.js"><link rel="prefetch" href="/assets/js/31.71ec3b7e.js"><link rel="prefetch" href="/assets/js/310.530ad00d.js"><link rel="prefetch" href="/assets/js/311.97c1965f.js"><link rel="prefetch" href="/assets/js/312.963afd13.js"><link rel="prefetch" href="/assets/js/313.1f2f545b.js"><link rel="prefetch" href="/assets/js/314.c34323d3.js"><link rel="prefetch" href="/assets/js/315.37a1105b.js"><link rel="prefetch" href="/assets/js/316.d041e09d.js"><link rel="prefetch" href="/assets/js/317.223ef09e.js"><link rel="prefetch" href="/assets/js/318.8afa9b95.js"><link rel="prefetch" href="/assets/js/319.e1c8e4e7.js"><link rel="prefetch" href="/assets/js/32.0329645e.js"><link rel="prefetch" href="/assets/js/320.a9fcaa80.js"><link rel="prefetch" href="/assets/js/321.2e20dc78.js"><link rel="prefetch" href="/assets/js/322.33d1153f.js"><link rel="prefetch" href="/assets/js/323.99676a65.js"><link rel="prefetch" href="/assets/js/324.6fb86195.js"><link rel="prefetch" href="/assets/js/325.89d1b411.js"><link rel="prefetch" href="/assets/js/326.fa6532bb.js"><link rel="prefetch" href="/assets/js/327.28c9c77d.js"><link rel="prefetch" href="/assets/js/328.01f91bd5.js"><link rel="prefetch" href="/assets/js/329.77fa1924.js"><link rel="prefetch" href="/assets/js/33.16ad0d7a.js"><link rel="prefetch" href="/assets/js/330.cc0f583c.js"><link rel="prefetch" href="/assets/js/331.fa634662.js"><link rel="prefetch" href="/assets/js/332.0da0d58a.js"><link rel="prefetch" href="/assets/js/333.83a9a8f3.js"><link rel="prefetch" href="/assets/js/334.34e5070c.js"><link rel="prefetch" href="/assets/js/335.32a0e556.js"><link rel="prefetch" href="/assets/js/336.2b81e1ac.js"><link rel="prefetch" href="/assets/js/337.fcc2b305.js"><link rel="prefetch" href="/assets/js/338.9d95cc83.js"><link rel="prefetch" href="/assets/js/339.14128e63.js"><link rel="prefetch" href="/assets/js/34.d7ed4e1e.js"><link rel="prefetch" href="/assets/js/340.9dd55b06.js"><link rel="prefetch" href="/assets/js/341.af9931e9.js"><link rel="prefetch" href="/assets/js/342.fac64a2a.js"><link rel="prefetch" href="/assets/js/343.5e2a7170.js"><link rel="prefetch" href="/assets/js/344.6af93427.js"><link rel="prefetch" href="/assets/js/345.fffff4e0.js"><link rel="prefetch" href="/assets/js/346.26ac5eb0.js"><link rel="prefetch" href="/assets/js/347.8f1ec9f2.js"><link rel="prefetch" href="/assets/js/348.3863fe61.js"><link rel="prefetch" href="/assets/js/349.cb420e0d.js"><link rel="prefetch" href="/assets/js/35.260a5d0e.js"><link rel="prefetch" href="/assets/js/350.f5988350.js"><link rel="prefetch" href="/assets/js/351.ebf4c176.js"><link rel="prefetch" href="/assets/js/352.81ee7157.js"><link rel="prefetch" href="/assets/js/353.15d7e4bc.js"><link rel="prefetch" href="/assets/js/354.1aa2bf8e.js"><link rel="prefetch" href="/assets/js/355.168f656e.js"><link rel="prefetch" href="/assets/js/356.02ee7279.js"><link rel="prefetch" href="/assets/js/357.31953379.js"><link rel="prefetch" href="/assets/js/358.31f72fb0.js"><link rel="prefetch" href="/assets/js/359.69011095.js"><link rel="prefetch" href="/assets/js/36.06b37c37.js"><link rel="prefetch" href="/assets/js/360.031be2f4.js"><link rel="prefetch" href="/assets/js/361.58c36bbc.js"><link rel="prefetch" href="/assets/js/362.7c84dd21.js"><link rel="prefetch" href="/assets/js/363.82a5016a.js"><link rel="prefetch" href="/assets/js/364.31014b05.js"><link rel="prefetch" href="/assets/js/365.a5c7e9f9.js"><link rel="prefetch" href="/assets/js/366.752ae114.js"><link rel="prefetch" href="/assets/js/367.9b793fb5.js"><link rel="prefetch" href="/assets/js/368.37ef39a8.js"><link rel="prefetch" href="/assets/js/369.46bbf02b.js"><link rel="prefetch" href="/assets/js/37.117c5279.js"><link rel="prefetch" href="/assets/js/370.c12be4a3.js"><link rel="prefetch" href="/assets/js/371.e5c5475a.js"><link rel="prefetch" href="/assets/js/38.233b852c.js"><link rel="prefetch" href="/assets/js/39.6ec07ec3.js"><link rel="prefetch" href="/assets/js/4.3a1b136c.js"><link rel="prefetch" href="/assets/js/40.749374e2.js"><link rel="prefetch" href="/assets/js/41.109d26dd.js"><link rel="prefetch" href="/assets/js/42.59854684.js"><link rel="prefetch" href="/assets/js/43.f4ba79a9.js"><link rel="prefetch" href="/assets/js/44.064604c6.js"><link rel="prefetch" href="/assets/js/45.44b9febc.js"><link rel="prefetch" href="/assets/js/46.162e1c49.js"><link rel="prefetch" href="/assets/js/47.fa2fa831.js"><link rel="prefetch" href="/assets/js/48.2a2c8504.js"><link rel="prefetch" href="/assets/js/49.d13a67c5.js"><link rel="prefetch" href="/assets/js/5.c2793df7.js"><link rel="prefetch" href="/assets/js/50.ab6a5f40.js"><link rel="prefetch" href="/assets/js/51.61489a31.js"><link rel="prefetch" href="/assets/js/52.fc60ddd6.js"><link rel="prefetch" href="/assets/js/53.39806e0a.js"><link rel="prefetch" href="/assets/js/54.4d75a7f7.js"><link rel="prefetch" href="/assets/js/55.9a328d45.js"><link rel="prefetch" href="/assets/js/56.5b3449bb.js"><link rel="prefetch" href="/assets/js/57.7f6e2a0a.js"><link rel="prefetch" href="/assets/js/58.520d140e.js"><link rel="prefetch" href="/assets/js/59.558b7f20.js"><link rel="prefetch" href="/assets/js/6.64bbf572.js"><link rel="prefetch" href="/assets/js/60.f2ead093.js"><link rel="prefetch" href="/assets/js/61.4408eb48.js"><link rel="prefetch" href="/assets/js/62.2902a46c.js"><link rel="prefetch" href="/assets/js/63.25bcccc1.js"><link rel="prefetch" href="/assets/js/64.db806e93.js"><link rel="prefetch" href="/assets/js/65.b7ae3e38.js"><link rel="prefetch" href="/assets/js/66.d9008145.js"><link rel="prefetch" href="/assets/js/67.f6c30d7e.js"><link rel="prefetch" href="/assets/js/68.0eac6b1c.js"><link rel="prefetch" href="/assets/js/69.2f54ff09.js"><link rel="prefetch" href="/assets/js/7.c2e7635b.js"><link rel="prefetch" href="/assets/js/70.1acfe2a6.js"><link rel="prefetch" href="/assets/js/71.db4bd9b5.js"><link rel="prefetch" href="/assets/js/72.f1aa5af2.js"><link rel="prefetch" href="/assets/js/73.149f8812.js"><link rel="prefetch" href="/assets/js/74.70ab992f.js"><link rel="prefetch" href="/assets/js/75.ece26af3.js"><link rel="prefetch" href="/assets/js/76.def447cb.js"><link rel="prefetch" href="/assets/js/77.501cacd5.js"><link rel="prefetch" href="/assets/js/78.8ba4915f.js"><link rel="prefetch" href="/assets/js/79.8eff8b78.js"><link rel="prefetch" href="/assets/js/8.52501d28.js"><link rel="prefetch" href="/assets/js/80.8f21dce1.js"><link rel="prefetch" href="/assets/js/81.55fe0573.js"><link rel="prefetch" href="/assets/js/82.fa3ddb54.js"><link rel="prefetch" href="/assets/js/83.cf8556b1.js"><link rel="prefetch" href="/assets/js/84.35044c55.js"><link rel="prefetch" href="/assets/js/85.cc815541.js"><link rel="prefetch" href="/assets/js/86.2d885520.js"><link rel="prefetch" href="/assets/js/87.e3a11753.js"><link rel="prefetch" href="/assets/js/88.049b058b.js"><link rel="prefetch" href="/assets/js/89.b29c1b1a.js"><link rel="prefetch" href="/assets/js/9.e12a1f1f.js"><link rel="prefetch" href="/assets/js/90.c0bad389.js"><link rel="prefetch" href="/assets/js/91.7faf6df9.js"><link rel="prefetch" href="/assets/js/92.1877de0c.js"><link rel="prefetch" href="/assets/js/93.bb03cf65.js"><link rel="prefetch" href="/assets/js/94.60fd2081.js"><link rel="prefetch" href="/assets/js/95.998d7606.js"><link rel="prefetch" href="/assets/js/96.a2fe03e8.js"><link rel="prefetch" href="/assets/js/97.2691eee5.js"><link rel="prefetch" href="/assets/js/98.6caa303b.js"><link rel="prefetch" href="/assets/js/99.85271c80.js">
    <link rel="stylesheet" href="/assets/css/0.styles.247a10b0.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Weibw's World" class="logo"> <span class="site-name can-hide">Weibw's World</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/089974/" class="nav-link">HTML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/python/base/" class="nav-link">Python基础知识</a></li><li class="dropdown-subitem"><a href="/python/cookbook3/" class="nav-link">Python CookBook第三版</a></li><li class="dropdown-subitem"><a href="/python/flask/" class="nav-link">Flask</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/96d563/" class="nav-link">MySQL基础知识</a></li><li class="dropdown-subitem"><a href="/mysql/mysqlty/" class="nav-link">MySQL调优</a></li><li class="dropdown-subitem"><a href="/pages/5aa29a/" class="nav-link">MySQL面试题</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他技术" class="dropdown-title"><a href="/other/" class="link-title">其他技术</a> <span class="title" style="display:none;">其他技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e52678/" class="nav-link">FineReport</a></li><li class="dropdown-item"><!----> <a href="/pages/fde6a7/" class="nav-link">Kettle</a></li><li class="dropdown-item"><!----> <a href="/study/git/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b6414a/" class="nav-link">微信公众号文章</a></li><li class="dropdown-item"><!----> <a href="/pages/e444e7/" class="nav-link">优秀博客文章</a></li><li class="dropdown-item"><!----> <a href="/pages/030cd4/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="/pages/55120e/" class="nav-link">收藏夹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/weibw162/weibw162.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/杂录/image.735febsv1zo0.webp"> <div class="blogger-info"><h3>Weibw</h3> <span>一个没有梦想的咸鱼</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端" class="dropdown-title"><a href="/front/" class="link-title">前端</a> <span class="title" style="display:none;">前端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/089974/" class="nav-link">HTML</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端" class="dropdown-title"><a href="/backend/" class="link-title">后端</a> <span class="title" style="display:none;">后端</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Python</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/python/base/" class="nav-link">Python基础知识</a></li><li class="dropdown-subitem"><a href="/python/cookbook3/" class="nav-link">Python CookBook第三版</a></li><li class="dropdown-subitem"><a href="/python/flask/" class="nav-link">Flask</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>MySQL</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/96d563/" class="nav-link">MySQL基础知识</a></li><li class="dropdown-subitem"><a href="/mysql/mysqlty/" class="nav-link">MySQL调优</a></li><li class="dropdown-subitem"><a href="/pages/5aa29a/" class="nav-link">MySQL面试题</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/algorithm/" class="nav-link">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他技术" class="dropdown-title"><a href="/other/" class="link-title">其他技术</a> <span class="title" style="display:none;">其他技术</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/e52678/" class="nav-link">FineReport</a></li><li class="dropdown-item"><!----> <a href="/pages/fde6a7/" class="nav-link">Kettle</a></li><li class="dropdown-item"><!----> <a href="/study/git/" class="nav-link">Git</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/b6414a/" class="nav-link">微信公众号文章</a></li><li class="dropdown-item"><!----> <a href="/pages/e444e7/" class="nav-link">优秀博客文章</a></li><li class="dropdown-item"><!----> <a href="/pages/030cd4/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><a href="/pages/55120e/" class="nav-link">收藏夹</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <a href="https://github.com/weibw162/weibw162.github.io" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MySQL</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>MySQL基础知识</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>MySQL进阶</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/2c556a/" aria-current="page" class="active sidebar-link">Linux下MySQL的安装与使用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_1、安装前说明" class="sidebar-link">1、安装前说明</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_1-1、linux系统及工具的准备" class="sidebar-link">1.1、Linux系统及工具的准备</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_1-2、查看是否安装过mysql" class="sidebar-link">1.2、查看是否安装过MySQL</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_1-3、mysql的卸载" class="sidebar-link">1.3、MySQL的卸载</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_2、mysql的linux版安装" class="sidebar-link">2、MySQL的Linux版安装</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_2-1、mysql的4大版本" class="sidebar-link">2.1、MySQL的4大版本</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_2-2、下载mysql指定版本" class="sidebar-link">2.2、下载MySQL指定版本</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_2-3、-centos7下检查mysql依赖" class="sidebar-link">2.3、 CentOS7下检查MySQL依赖</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_2-4、centos7下mysql安装过程" class="sidebar-link">2.4、CentOS7下MySQL安装过程</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_3、mysql登录" class="sidebar-link">3、MySQL登录</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_3-1、首次登录" class="sidebar-link">3.1、首次登录</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_3-2、修改密码" class="sidebar-link">3.2、修改密码</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_3-3、设置远程登录" class="sidebar-link">3.3、设置远程登录</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_4、mysql8的密码强度评估-了解" class="sidebar-link">4、MySQL8的密码强度评估（了解）</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_4-1、-mysql不同版本设置密码-可能出现" class="sidebar-link">4.1、 MySQL不同版本设置密码(可能出现)</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_4-2、mysql8之前的安全策略" class="sidebar-link">4.2、MySQL8之前的安全策略</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_4-3、mysql8的安全策略" class="sidebar-link">4.3、MySQL8的安全策略</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_4-4、卸载插件、组件-了解" class="sidebar-link">4.4、卸载插件、组件(了解)</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_5、字符集的相关操作" class="sidebar-link">5、字符集的相关操作</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_5-1、-修改mysql5-7字符集" class="sidebar-link">5.1、 修改MySQL5.7字符集</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_5-2、各级别的字符集" class="sidebar-link">5.2、各级别的字符集</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_5-3、字符集与比较规则-了解" class="sidebar-link">5.3、字符集与比较规则(了解)</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_5-4、请求到响应过程中字符集的变化" class="sidebar-link">5.4、请求到响应过程中字符集的变化</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_6、sql大小写规范" class="sidebar-link">6、SQL大小写规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_6-1、windows和linux平台区别" class="sidebar-link">6.1、Windows和Linux平台区别</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_6-2、linux下大小写规则设置" class="sidebar-link">6.2、Linux下大小写规则设置</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_6-3、sql编写建议" class="sidebar-link">6.3、SQL编写建议</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_7、sql-mode的合理设置" class="sidebar-link">7、sql_mode的合理设置</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/2c556a/#_7-1、宽松模式-vs-严格模式" class="sidebar-link">7.1、宽松模式 vs 严格模式</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_7-2、宽松模式再举例" class="sidebar-link">7.2、宽松模式再举例</a></li><li class="sidebar-sub-header"><a href="/pages/2c556a/#_7-3、模式查看和设置" class="sidebar-link">7.3、模式查看和设置</a></li></ul></li></ul></li><li><a href="/pages/52fc53/" class="sidebar-link">MySQL的数据目录</a></li><li><a href="/pages/266896/" class="sidebar-link">用户与权限管理</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>SQL练习题</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-70a2d273><div class="articleInfo" data-v-70a2d273><ul class="breadcrumbs" data-v-70a2d273><li data-v-70a2d273><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-70a2d273></a></li> <li data-v-70a2d273><a href="/database" title="数据库-目录页" data-v-70a2d273>数据库</a></li> <li data-v-70a2d273><a href="/database/#MySQL" title="数据库#MySQL" data-v-70a2d273>MySQL</a></li> <li data-v-70a2d273><a href="/database/#MySQL进阶" title="数据库#MySQL进阶" data-v-70a2d273>MySQL进阶</a></li></ul> <div class="info" data-v-70a2d273><div title="作者" class="author iconfont icon-touxiang" data-v-70a2d273><a href="https://github.com/weibw162" target="_blank" title="作者" class="beLink" data-v-70a2d273>weibw</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-70a2d273><a href="javascript:;" data-v-70a2d273>2022-03-04</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          Linux下MySQL的安装与使用
        </h1> <!----> <div class="theme-vdoing-content content__default"><h2 id="_1、安装前说明"><a href="#_1、安装前说明" class="header-anchor">#</a> 1、<strong>安装前说明</strong></h2> <h3 id="_1-1、linux系统及工具的准备"><a href="#_1-1、linux系统及工具的准备" class="header-anchor">#</a> 1.1、Linux<strong>系统及工具的准备</strong></h3> <ul><li>安装并启动好两台虚拟机： <code>CentOS 7</code> <ul><li>掌握克隆虚拟机的操作
<ul><li>mac地址</li> <li>主机名</li> <li>ip地址</li> <li>UUID</li></ul></li></ul></li> <li>安装有 <code>Xshell</code> 和 <code>Xftp</code> 等访问CentOS系统的工具</li> <li>CentOS6和CentOS7在MySQL的使用中的区别</li></ul> <ol><li><p>防火墙：6是iptables，7是firewalld</p></li> <li><p>启动服务的命令：6是service，7是systemctl</p></li></ol> <h3 id="_1-2、查看是否安装过mysql"><a href="#_1-2、查看是否安装过mysql" class="header-anchor">#</a> 1.2、<strong>查看是否安装过</strong>MySQL</h3> <ul><li><p>如果你是用rpm安装, 检查一下RPM PACKAGE：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql <span class="token comment"># -i 忽略大小写</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>检查mysql service：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl status mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>如果存在mysql-libs的旧版本包，显示如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.osovdd9tjzk.webp" alt="image"></p></li> <li><p>如果不存在mysql-lib的版本，显示如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.ohyhya4u4bk.webp" alt="image"></p></li></ul> <h3 id="_1-3、mysql的卸载"><a href="#_1-3、mysql的卸载" class="header-anchor">#</a> 1.3、MySQL<strong>的卸载</strong></h3> <ol><li><p><strong>关闭 mysql 服务</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl stop mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p><strong>查看当前 mysql 安装状况</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> <span class="token parameter variable">-qa</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql 

<span class="token comment"># 或 </span>

yum list installed <span class="token operator">|</span> <span class="token function">grep</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p><strong>卸载上述命令查询出的已安装程序</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>yum remove mysql-xxx mysql-xxx mysql-xxx mysqk-xxxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <p>务必卸载干净，反复执行 <code>rpm -qa | grep -i mysql</code> 确认是否有卸载残留</p> <ol start="4"><li><strong>删除mysql相关文件</strong></li></ol> <ul><li><p>查找相关文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">find</span> / <span class="token parameter variable">-name</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>删除上述命令查找出的相关文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> xxx
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <p>5.<strong>删除</strong> my.cnf</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rm</span> <span class="token parameter variable">-rf</span> /etc/my.cnf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_2、mysql的linux版安装"><a href="#_2、mysql的linux版安装" class="header-anchor">#</a> 2、MySQL的Linux版安装</h2> <h3 id="_2-1、mysql的4大版本"><a href="#_2-1、mysql的4大版本" class="header-anchor">#</a> 2.1、MySQL的4大版本</h3> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ul><li><p>MySQL Community Server <strong>社区版本</strong>，开源免费，自由下载，但不提供官方技术支持，适用于大多数普通用户。</p></li> <li><p>MySQL Enterprise Edition <strong>企业版本</strong>，需付费，不能在线下载，可以试用30天。提供了更多的功能和更完备的技术支持，更适合于对数据库的功能和可靠性要求较高的企业客户。</p></li> <li><p>MySQL Cluster <strong>集群版</strong>，开源免费。用于架设集群服务器，可将几个MySQL Server封装成一个Server。需要在社区版或企业版的基础上使用。</p></li> <li><p>MySQL Cluster CGE <strong>高级集群版</strong>，需付费。</p></li></ul></div> <ul><li><p>截止目前，官方最新版本为 <code>8.0.27</code> 。此前，8.0.0 在 2016.9.12日就发布了。</p></li> <li><p>本课程中主要使用 <code>8.0.25</code>版本 。同时为了更好的说明MySQL8.0新特性，还会安装 <code>MySQL5.7</code> 版本，作为对比。</p></li></ul> <p>此外，官方还提供了 <code>MySQL Workbench</code> （GUITOOL）一款专为MySQL设计的 <code>ER/数据库建模工具</code> 。它是著名的数据库设计工具DBDesigner4的继任者。MySQLWorkbench又分为两个版本，分别是 <code>社区版</code> （MySQL Workbench OSS）、 <code>商用版</code> （MySQL WorkbenchSE）。</p> <h3 id="_2-2、下载mysql指定版本"><a href="#_2-2、下载mysql指定版本" class="header-anchor">#</a> 2.2、<strong>下载</strong>MySQL指定版本</h3> <ol><li><strong>下载地址</strong></li></ol> <p>官网：https://www.mysql.com</p> <ol start="2"><li><strong>打开官网，点击</strong>DOWNLOADS</li></ol> <p>然后，点击 <code>MySQL Community(GPL) Downloads</code></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1ijom9jsajds.webp" alt="image"></p> <ol start="3"><li><strong>点击</strong> MySQL Community Server</li></ol> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.iedt3pie1ug.webp" alt="image"></p> <ol start="4"><li><strong>在</strong>General Availability(GA) Releases<strong>中选择适合的版本</strong></li></ol> <ul><li>如果安装Windows 系统下MySQL ，推荐下载 MSI安装程序 ；点击 Go to Download Page 进行下载即可</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.7gx654v14s8.webp" alt="image"></p> <ul><li>Windows下的MySQL安装有两种安装程序
<ul><li>mysql-installer-web-community-8.0.25.0.msi 下载程序大小：2.4M；安装时需要联网安装组件。</li> <li>mysql-installer-community-8.0.25.0.msi 下载程序大小：435.7M；安装时离线安装即可。<strong>推荐。</strong></li></ul></li></ul> <ol start="5"><li><strong>Linux系统下安装MySQL的几种方式</strong></li></ol> <p>5.1 <strong>Linux系统下安装软件的常用三种方式：</strong></p> <p><strong>方式1：rpm命令</strong></p> <p>使用rpm命令安装扩展名为&quot;.rpm&quot;的软件包。</p> <p>.rpm包的一般格式：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.33i72ytsqak0.webp" alt="image"></p> <p><strong>方式2：yum命令</strong></p> <p>需联网，从 互联网获取 的yum源，直接使用yum命令安装。</p> <p><strong>方式3：编译安装源码包</strong></p> <p>针对 tar.gz 这样的压缩格式，要用tar命令来解压；如果是其它压缩格式，就使用其它命令。</p> <p>5.2 <strong>Linux系统下安装MySQL，官方给出多种安装方式</strong></p> <table><thead><tr><th>安装方式</th> <th>特点</th></tr></thead> <tbody><tr><td>rpm</td> <td>安装简单，灵活性差，无法灵活选择版本、升级</td></tr> <tr><td>rpm repository</td> <td>安装包极小，版本安装简单灵活，升级方便，需要联网安装</td></tr> <tr><td>通用二进制包</td> <td>安装比较复杂，灵活性高，平台通用性好</td></tr> <tr><td>源码包</td> <td>安装最复杂，时间长，参数设置灵活，性能好</td></tr></tbody></table> <ul><li>这里不能直接选择CentOS 7系统的版本，所以选择与之对应的 <code>Red Hat Enterprise Linux</code></li> <li><code>https://downloads.mysql.com/archives/community/</code> 直接点Download下载RPM Bundle全量包。包括了所有下面的组件。不需要一个一个下载了。</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.eal7gwhbyrs.webp" alt="image"></p> <ol start="6"><li><strong>下载的tar包，用压缩工具打开</strong></li></ol> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5vqerksua2g0.webp" alt="image"></p> <ul><li><p>解压后rpm安装包 （红框为抽取出来的安装包）</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4m50jq0gqt80.webp" alt="image"></p></li></ul> <h3 id="_2-3、-centos7下检查mysql依赖"><a href="#_2-3、-centos7下检查mysql依赖" class="header-anchor">#</a> 2.3、 CentOS7下检查MySQL依赖</h3> <h4 id="检查-tmp临时目录权限-必不可少"><a href="#检查-tmp临时目录权限-必不可少" class="header-anchor">#</a> 检查/tmp临时目录权限（必不可少）</h4> <p>由于mysql安装过程中，会通过mysql用户在/tmp目录下新建tmp_db文件，所以请给/tmp较大的权限。执行 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">chmod</span> <span class="token parameter variable">-R</span> <span class="token number">777</span> /tmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5h8cqt1y6xs0.webp" alt="image"></p> <h4 id="安装前-检查依赖"><a href="#安装前-检查依赖" class="header-anchor">#</a> 安装前，检查依赖</h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> libaio
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>如果存在libaio包如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5budodzp55g0.webp" alt="image"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> net-tools
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>如果存在net-tools包如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.g2scrjw2r6g.webp" alt="image"></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> net-tools
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>如果不存在需要到centos安装盘里进行rpm安装。安装linux如果带图形化界面，这些都是安装好的。</p></li></ul> <h3 id="_2-4、centos7下mysql安装过程"><a href="#_2-4、centos7下mysql安装过程" class="header-anchor">#</a> 2.4、CentOS7<strong>下</strong>MySQL安装过程</h3> <h4 id="_1、将安装程序拷贝到-opt-目录下"><a href="#_1、将安装程序拷贝到-opt-目录下" class="header-anchor">#</a> 1、将安装程序拷贝到/opt**目录下</h4> <p>在mysql的安装文件目录下执行：（必须按照顺序执行）</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-common-8.0.25-1.el7.x86_64.rpm 
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-client-plugins-8.0.25-1.el7.x86_64.rpm 
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-libs-8.0.25-1.el7.x86_64.rpm 
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-client-8.0.25-1.el7.x86_64.rpm 
<span class="token function">rpm</span> <span class="token parameter variable">-ivh</span> mysql-community-server-8.0.25-1.el7.x86_64.rpm
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>注意: 如在检查工作时，没有检查mysql依赖环境在安装mysql-community-server会报错</li> <li><code>rpm</code> 是Redhat Package Manage缩写，通过RPM的管理，用户可以把源代码包装成以rpm为扩展名的文件形式，易于安装。</li> <li><code>-i</code> , --install 安装软件包</li> <li><code>-v</code> , --verbose 提供更多的详细信息输出</li> <li><code>-h</code> , --hash 软件包安装的时候列出哈希标记 (和 -v 一起使用效果更好)，展示进度条</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.8ucm1aqxbu8.webp" alt="image"></p> <h4 id="_2、安装过程截图"><a href="#_2、安装过程截图" class="header-anchor">#</a> 2、<strong>安装过程截图</strong></h4> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.6a9g8fwwrdo0.webp" alt="image"></p> <p>安装过程中可能的报错信息：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.2etgkz99aack.webp" alt="image"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>一个命令：<code>yum remove mysql-libs</code> 解决，清除之前安装过的依赖即可</p></div> <h4 id="_3、-查看mysql版本"><a href="#_3、-查看mysql版本" class="header-anchor">#</a> 3、 查看MySQL版本</h4> <p>执行如下命令，如果成功表示安装mysql成功。类似java -version如果打出版本等信息</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysql <span class="token parameter variable">--version</span> 

<span class="token comment">#或</span>

mysqladmin <span class="token parameter variable">--version</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.51h3pcf0ims0.webp" alt="image"></p> <p>执行如下命令，查看是否安装成功。需要增加 -i 不用去区分大小写，否则搜索不到。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">rpm</span> -qa<span class="token operator">|</span><span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4u50t2icez20.webp" alt="image"></p> <h4 id="_4、服务的初始化"><a href="#_4、服务的初始化" class="header-anchor">#</a> 4、<strong>服务的初始化</strong></h4> <p>为了保证数据库目录与文件的所有者为 mysql 登录用户，如果你是以 root 身份运行 mysql 服务，需要执行下面的命令初始化：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>mysqld <span class="token parameter variable">--initialize</span> <span class="token parameter variable">--user</span><span class="token operator">=</span>mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>说明： <code>--initialize</code> 选项默认以“安全”模式来初始化，则会为 root 用户生成一个密码并将 <code>该密码标记为过 期</code> ，登录后你需要设置一个新的密码。生成的 <code>临时密码</code> 会往日志中记录一份。</p> <p>查看密码：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">cat</span> /var/log/mysqld.log
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1vut5cy4xslc.webp" alt="image"></p> <p>root@localhost: 后面就是初始化的密码</p> <h4 id="_5、启动mysql-查看状态"><a href="#_5、启动mysql-查看状态" class="header-anchor">#</a> 5、<strong>启动</strong>MySQL**，查看状态**</h4> <p>#加不加.service后缀都可以</p> <p>启动：<code>systemctl start mysqld.service</code></p> <p>关闭：<code>systemctl stop mysqld.service</code></p> <p>重启：<code>systemctl restart mysqld.service</code></p> <p>查看状态：<code>systemctl status mysqld.service</code></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p><code>mysqld</code> 这个可执行文件就代表着 <code>MySQL</code> 服务器程序，运行这个可执行文件就可以直接启动一个服务器进程。</p></div> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4n5cjkm06h40.webp" alt="image"></p> <p>查看进程：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">ps</span> <span class="token parameter variable">-ef</span> <span class="token operator">|</span> <span class="token function">grep</span> <span class="token parameter variable">-i</span> mysql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.3y8jdm8o72g0.webp" alt="image"></p> <h4 id="_6、查看mysql服务是否自启动"><a href="#_6、查看mysql服务是否自启动" class="header-anchor">#</a> 6、<strong>查看</strong>MySQL<strong>服务是否自启动</strong></h4> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl list-unit-files<span class="token operator">|</span><span class="token function">grep</span> mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1txsb7elz4f4.webp" alt="image"></p> <p>默认是enabled。</p> <ul><li><p>如不是enabled可以运行如下命令设置自启动</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl <span class="token builtin class-name">enable</span> mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.531iti2sl1w0.webp" alt="image"></p></li> <li><p>如果希望不进行自启动，运行如下命令设置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl disable mysqld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5v86zuj8g4s0.webp" alt="image"></p></li></ul> <h2 id="_3、mysql登录"><a href="#_3、mysql登录" class="header-anchor">#</a> 3、MySQL<strong>登录</strong></h2> <h3 id="_3-1、首次登录"><a href="#_3-1、首次登录" class="header-anchor">#</a> 3.1、<strong>首次登录</strong></h3> <p>通过 <code>mysql -hlocalhost -P3306 -uroot -p</code> 进行登录，在Enter password：录入初始化密码</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5zt4dib0ilg0.webp" alt="image"></p> <h3 id="_3-2、修改密码"><a href="#_3-2、修改密码" class="header-anchor">#</a> 3.2、<strong>修改密码</strong></h3> <ul><li><p>因为初始化密码默认是过期的，所以查看数据库会报错</p></li> <li><p>修改密码：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'localhost'</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'new_password'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>5.7版本之后（不含5.7），mysql加入了全新的密码安全机制。设置新密码太简单会报错。</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.425je7f95rm0.webp" alt="image"></p> <ul><li><p>改为更复杂的密码规则之后，设置成功，可以正常使用数据库了</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.21ak0qvb5izk.webp" alt="image"></p></li></ul> <h3 id="_3-3、设置远程登录"><a href="#_3-3、设置远程登录" class="header-anchor">#</a> 3.3、<strong>设置远程登录</strong></h3> <h4 id="_1、当前问题"><a href="#_1、当前问题" class="header-anchor">#</a> 1、当前问题</h4> <p>在用SQLyog或Navicat中配置远程连接Mysql数据库时遇到如下报错信息，这是由于Mysql配置了不支持远程连接引起的。</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.2hipwoqq00k.webp" alt="image"></p> <h4 id="_2、确认网络"><a href="#_2、确认网络" class="header-anchor">#</a> 2、确认网络</h4> <p>1.在远程机器上使用ping ip地址 保证网络畅通</p> <p>2.在远程机器上使用telnet命令 保证端口号开放 访问</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>telnet ip地址 端口号
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>拓展： <code>telnet命令开启</code> :</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4clysqyvwew0.webp" alt="image"></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.rd1sxvrcns0.webp" alt="image"></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1cz7lmo988e8.webp" alt="image"></p> <h4 id="_3、关闭防火墙或开放端口"><a href="#_3、关闭防火墙或开放端口" class="header-anchor">#</a> 3、关闭防火墙或开放端口</h4> <p><strong>方式一：关闭防火墙</strong></p> <ul><li><p>CentOS6 ：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">service</span> iptables stop
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>CentOS7：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl start firewalld.service 
systemctl status firewalld.service 
systemctl stop firewalld.service

<span class="token comment">#设置开机启用防火墙 </span>
systemctl <span class="token builtin class-name">enable</span> firewalld.service 

<span class="token comment">#设置开机禁用防火墙 </span>
systemctl disable firewalld.service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li></ul> <p><strong>方式二：开放端口</strong></p> <ul><li><p>查看开放的端口号</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>firewall-cmd --list-all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>设置开放的端口号</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>firewall-cmd --add-service<span class="token operator">=</span>http <span class="token parameter variable">--permanent</span>
firewall-cmd --add-port<span class="token operator">=</span><span class="token number">3306</span>/tcp <span class="token parameter variable">--permanent</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>重启防火墙</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>firewall-cmd <span class="token parameter variable">--reload</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <h4 id="_4、linux下修改配置"><a href="#_4、linux下修改配置" class="header-anchor">#</a> 4、Linux<strong>下修改配置</strong></h4> <p>在Linux系统MySQL下测试：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">use</span> mysql<span class="token punctuation">;</span> 

<span class="token keyword">select</span> Host<span class="token punctuation">,</span><span class="token keyword">User</span> <span class="token keyword">from</span> <span class="token keyword">user</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.3xi1upaul9w0.webp" alt="image"></p> <p>可以看到root用户的当前主机配置信息为localhost。</p> <p>**修改Host为通配符% **</p> <p>Host列指定了允许用户登录所使用的IP，比如user=root Host=192.168.1.1。这里的意思就是说root用户只能通过192.168.1.1的客户端去访问。 user=root Host=localhost，表示只能通过本机客户端去访问。而 <code>%</code>是个 <code>通配符</code> ，如果Host=192.168.1.%，那么就表示只要是IP地址前缀为“192.168.1.”的客户端都可以连接。如果 <code>Host=%</code> ，表示所有IP都有连接权限。</p> <p>注意：在生产环境下不能为了省事将host设置为%，这样做会存在安全问题，具体的设置可以根据生产环境的IP进行设置。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">update</span> <span class="token keyword">user</span> <span class="token keyword">set</span> host <span class="token operator">=</span> <span class="token string">'%'</span> <span class="token keyword">where</span> <span class="token keyword">user</span> <span class="token operator">=</span><span class="token string">'root'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Host设置了“%”后便可以允许远程访问。</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.7fru7je0jf00.webp" alt="image"></p> <p>Host修改完成后记得执行flush privileges使配置立即生效：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>flush <span class="token keyword">privileges</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_5、测试"><a href="#_5、测试" class="header-anchor">#</a> 5、测试</h4> <ul><li><p>如果是 MySQL5.7 版本，接下来就可以使用SQLyog或者Navicat成功连接至MySQL了。</p></li> <li><p>如果是 MySQL8 版本，连接时还会出现如下问题：</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1wnuu48n68u8.webp" alt="image"></p> <p>配置新连接报错：错误号码 2058，分析是 mysql 密码加密方法变了。</p> <p><strong>解决方法</strong>：Linux下 <code>mysql -u root -p</code> 登录你的 mysql 数据库，然后 执行这条SQL：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">USER</span> <span class="token string">'root'</span><span class="token variable">@'%'</span> IDENTIFIED <span class="token keyword">WITH</span> mysql_native_password <span class="token keyword">BY</span> <span class="token string">'abc123'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后在重新配置SQLyog的连接，则可连接成功了，OK。</p> <h2 id="_4、mysql8的密码强度评估-了解"><a href="#_4、mysql8的密码强度评估-了解" class="header-anchor">#</a> 4、MySQL8的密码强度评估（了解）</h2> <h3 id="_4-1、-mysql不同版本设置密码-可能出现"><a href="#_4-1、-mysql不同版本设置密码-可能出现" class="header-anchor">#</a> 4.1、 MySQL不同版本设置密码(可能出现)</h3> <ul><li><p>MySQL5.7中：成功</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">'root'</span> identified <span class="token keyword">by</span> <span class="token string">'abcd1234'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>MySQL8.0中：失败</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">user</span> <span class="token string">'root'</span> identified <span class="token keyword">by</span> <span class="token string">'abcd1234'</span><span class="token punctuation">;</span> <span class="token comment"># HelloWorld_123</span>
ERROR <span class="token number">1819</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: Your password does <span class="token operator">not</span> satisfy the <span class="token keyword">current</span> policy requirements
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ul> <h3 id="_4-2、mysql8之前的安全策略"><a href="#_4-2、mysql8之前的安全策略" class="header-anchor">#</a> 4.2、MySQL8之前的安全策略</h3> <p>在MySQL 8.0之前，MySQL使用的是validate_password插件检测、验证账号密码强度，保障账号的安全 性。</p> <p><strong>安装/启用插件方式1：在参数文件my.cnf中添加参数</strong></p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">plugin-load-add</span><span class="token punctuation">=</span><span class="token value attr-value">validate_password.so</span>
\#ON/OFF/FORCE/FORCE_PLUS_PERMANENT: 是否使用该插件(及强制/永久强制使用)
<span class="token key attr-name">validate-password</span><span class="token punctuation">=</span><span class="token value attr-value">FORCE_PLUS_PERMANENT</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>说明1： plugin library中的validate_password文件名的后缀名根据平台不同有所差异。 对于Unix和 Unix-like系统而言，它的文件后缀名是.so，对于Windows系统而言，它的文件后缀名是.dll。</p> <p>说明2： 修改参数后必须重启MySQL服务才能生效。</p> <p>说明3： 参数FORCE_PLUS_PERMANENT是为了防止插件在MySQL运行时的时候被卸载。当你卸载插 件时就会报错。如下所示。</p></div> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.3jhpvm502xo0.webp" alt="image"></p> <p><strong>安装/启用插件方式2：运行时命令安装</strong>（推荐）</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> INSTALL PLUGIN validate_password <span class="token keyword">SONAME</span> <span class="token string">'validate_password.so'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.11</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>此方法也会注册到元数据，也就是mysql.plugin表中，所以不用担心MySQL重启后插件会失效。</p> <h3 id="_4-3、mysql8的安全策略"><a href="#_4-3、mysql8的安全策略" class="header-anchor">#</a> 4.3、MySQL8的安全策略</h3> <h4 id="_1、validate-password说明"><a href="#_1、validate-password说明" class="header-anchor">#</a> 1、validate_password说明</h4> <p>MySQL 8.0，引入了服务器组件（Components）这个特性，validate_password插件已用服务器组件重新实 现。8.0.25版本的数据库中，默认自动安装validate_password组件。</p> <p><code>未安装插件前，执行如下两个指令</code> ，执行效果：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'validate_password%'</span><span class="token punctuation">;</span>
Empty <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.04</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> mysql<span class="token punctuation">.</span>component<span class="token punctuation">;</span>
ERROR <span class="token number">1146</span> <span class="token punctuation">(</span><span class="token number">42</span>S02<span class="token punctuation">)</span>: <span class="token keyword">Table</span> <span class="token string">'mysql.component'</span> doesn't exist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><code>安装插件后，执行如下两个指令</code> ，执行效果：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.77xqmr35yss0.webp" alt="image"></p> <p>关于 <code>validate_password</code> 组件对应的系统变量说明：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.wu6auwywm80.webp" alt="image"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>组件和插件的默认值可能有所不同。例如，MySQL 5.7. validate_password_check_user_name的默认 值为OFF。</p></div> <h4 id="_2、-修改安全策略"><a href="#_2、-修改安全策略" class="header-anchor">#</a> 2、 修改安全策略</h4> <p>修改密码验证安全强度</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span>LOW<span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span>MEDIUM<span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span>STRONG<span class="token punctuation">;</span>
<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> <span class="token comment"># For LOW</span>
<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment"># For MEDIUM</span>
<span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> validate_password_policy<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment"># For HIGH</span>

<span class="token comment">#注意，如果是插件的话,SQL为set global validate_password_policy=LOW</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>此外，还可以修改密码中字符的长度</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">set</span> <span class="token keyword">global</span> validate_password_length<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="_3、密码强度测试"><a href="#_3、密码强度测试" class="header-anchor">#</a> 3、<strong>密码强度测试</strong></h4> <p>如果你创建密码是遇到“Your password does not satisfy the current policy requirements”，可以通过函数组 件去检测密码是否满足条件： 0-100。当评估在100时就是说明使用上了最基本的规则：大写+小写+特殊 字符+数字组成的8位以上密码</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.63dtaxf01ac0.webp" alt="image"></p> <p>注意：如果没有安装validate_password组件或插件的话，那么这个函数永远都返回0。 关于密码复杂度对 应的密码复杂度策略。如下表格所示：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.43jgk59qh8y0.webp" alt="image"></p> <h3 id="_4-4、卸载插件、组件-了解"><a href="#_4-4、卸载插件、组件-了解" class="header-anchor">#</a> 4.4、卸载插件、组件(了解)</h3> <p><strong>卸载插件</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> UNINSTALL PLUGIN validate_password<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected<span class="token punctuation">,</span> <span class="token number">1</span> warning <span class="token punctuation">(</span><span class="token number">0.01</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><strong>卸载组件</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> UNINSTALL COMPONENT <span class="token string">'file://component_validate_password'</span><span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.02</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_5、字符集的相关操作"><a href="#_5、字符集的相关操作" class="header-anchor">#</a> 5、字符集的相关操作</h2> <h3 id="_5-1、-修改mysql5-7字符集"><a href="#_5-1、-修改mysql5-7字符集" class="header-anchor">#</a> 5.1、 修改MySQL5.7字符集</h3> <h4 id="_1、修改步骤"><a href="#_1、修改步骤" class="header-anchor">#</a> 1、修改步骤</h4> <p>在MySQL 8.0版本之前，默认字符集为 <code>latin1</code> ，<code>utf8</code>字符集指向的是 <code>utf8mb3</code> 。网站开发人员在数据库 设计的时候往往会将编码修改为<code>utf8</code>字符集。如果遗忘修改默认的编码，就会出现乱码的问题。从<code>MySQL 8.0</code>开始，数据库的默认编码将改为 <code>utf8mb4</code> ，从而避免上述乱码的问题。</p> <p><strong>操作1：查看默认使用的字符集</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'character%'</span><span class="token punctuation">;</span>
<span class="token comment"># 或者</span>
<span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'%char%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>MySQL8.0中执行：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5qzdm4yo9hs0.webp" alt="image"></p></li> <li><p>MySQL5.7中执行：</p> <p>MySQL 5.7 默认的客户端和服务器都用了 latin1 ，不支持中文，保存中文会报错。MySQL5.7截图如下：</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.52p0n44sc6o0.webp" alt="image"></p> <p>在MySQL5.7中添加中文数据时，报错：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1odidseikijk.webp" alt="image"></p> <p>因为默认情况下，创建表使用的是 <code>latin1</code> 。如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.3m3jzbp78960.webp" alt="image"></p> <p><strong>操作2：修改字符集</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">vim</span> /etc/my.cnf
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在MySQL5.7或之前的版本中，在文件最后加上中文字符集配置：</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token key attr-name">character_set_server</span><span class="token punctuation">=</span><span class="token value attr-value">utf8</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1jojo58coy00.webp" alt="image"></p> <p><strong>操作3：重新启动MySQL服务</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>systemctl restart mysqld
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>但是原库、原表的设定不会发生变化，参数修改只对新建的数据库生效。</p></div> <h4 id="_2、已有库-表字符集的变更"><a href="#_2、已有库-表字符集的变更" class="header-anchor">#</a> 2、已有库&amp;表字符集的变更</h4> <p>MySQL5.7版本中，以前创建的库，创建的表字符集还是latin1。</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.329ap3qyltc0.webp" alt="image"></p> <p>修改已创建数据库的字符集</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">database</span> dbtest1 <span class="token keyword">character</span> <span class="token keyword">set</span> <span class="token string">'utf8'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改已创建数据表的字符集</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> t_emp <span class="token keyword">convert</span> <span class="token keyword">to</span> <span class="token keyword">character</span> <span class="token keyword">set</span> <span class="token string">'utf8'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.2rtgk7tmtww0.webp" alt="image"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>注意：但是原有的数据如果是用非'utf8'编码的话，数据本身编码不会发生改变。已有数据需要导出或删除，然后重新插入。</p></div> <h3 id="_5-2、各级别的字符集"><a href="#_5-2、各级别的字符集" class="header-anchor">#</a> 5.2、各级别的字符集</h3> <p>MySQL有4个级别的字符集和比较规则，分别是：</p> <ul><li>服务器级别</li> <li>数据库级别</li> <li>表级别</li> <li>列级别</li></ul> <p>执行如下SQL语句：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'character%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4stgpr553jq0.webp" alt="image"></p> <ul><li>character_set_server：服务器级别的字符集</li> <li>character_set_database：当前数据库的字符集</li> <li>character_set_client：服务器解码请求时使用的字符集</li> <li>character_set_connection：服务器处理请求时会把请求字符串从character_set_client转为 character_set_connection</li> <li>character_set_results：服务器向客户端返回数据时使用的字符集</li></ul> <h4 id="_1、服务器级别"><a href="#_1、服务器级别" class="header-anchor">#</a> 1、服务器级别</h4> <ul><li><code>character_set_server</code> ：服务器级别的字符集。</li></ul> <p>我们可以在启动服务器程序时通过启动选项或者在服务器程序运行过程中使用 SET 语句修改这两个变量 的值。比如我们可以在配置文件中这样写：</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">server</span><span class="token punctuation">]</span></span>
<span class="token key attr-name">character_set_server</span><span class="token punctuation">=</span><span class="token value attr-value">gbk # 默认字符集</span>
<span class="token key attr-name">collation_server</span><span class="token punctuation">=</span><span class="token value attr-value">gbk_chinese_ci #对应的默认的比较规则</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>当服务器启动的时候读取这个配置文件后这两个系统变量的值便修改了。</p> <h4 id="_2、-数据库级别"><a href="#_2、-数据库级别" class="header-anchor">#</a> 2、 数据库级别</h4> <ul><li><code>character_set_database</code> ：当前数据库的字符集</li></ul> <p>我们在创建和修改数据库的时候可以指定该数据库的字符集和比较规则，具体语法如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.77n7cjvh2bg0.webp" alt="image"></p> <h4 id="_3、表级别"><a href="#_3、表级别" class="header-anchor">#</a> 3、表级别</h4> <p>我们也可以在创建和修改表的时候指定表的字符集和比较规则，语法如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.42nr5xowte80.webp" alt="image"></p> <p><strong>如果创建和修改表的语句中没有指明字符集和比较规则，将使用该表所在数据库的字符集和比较规则作 为该表的字符集和比较规则。</strong></p> <h4 id="_4、列级别"><a href="#_4、列级别" class="header-anchor">#</a> 4、列级别</h4> <p>对于存储字符串的列，同一个表中的不同的列也可以有不同的字符集和比较规则。我们在创建和修改列 定义的时候可以指定该列的字符集和比较规则，语法如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1t2a07p96cg0.webp" alt="image"></p> <p><strong>对于某个列来说，如果在创建和修改的语句中没有指明字符集和比较规则，将使用该列所在表的字符集 和比较规则作为该列的字符集和比较规则。</strong></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>在转换列的字符集时需要注意，如果转换前列中存储的数据不能用转换后的字符集进行表示会发生 错误。比方说原先列使用的字符集是utf8，列中存储了一些汉字，现在把列的字符集转换为ascii的 话就会出错，因为ascii字符集并不能表示汉字字符。</p></div> <h4 id="_5、小结"><a href="#_5、小结" class="header-anchor">#</a> 5、小结</h4> <p>我们介绍的这4个级别字符集和比较规则的联系如下：</p> <ul><li>如果 <code>创建或修改列</code> 时没有显式的指定字符集和比较规则，则该列 默认用表的 字符集和比较规则</li> <li>如果 <code>创建表时</code> 没有显式的指定字符集和比较规则，则该表 默认用数据库的 字符集和比较规则</li> <li>如果 <code>创建数据库时</code> 没有显式的指定字符集和比较规则，则该数据库 默认用服务器的 字符集和比较规 则</li></ul> <p>知道了这些规则之后，对于给定的表，我们应该知道它的各个列的字符集和比较规则是什么，从而根据 这个列的类型来确定存储数据时每个列的实际数据占用的存储空间大小了。比方说我们向表 t 中插入一 条记录：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.xeuotlj34kg.webp" alt="image"></p> <p>首先列 <code>col</code> 使用的字符集是 <code>gbk</code> ，一个字符 <code>'我'</code> 在 gbk 中的编码为 <code>0xCED2</code> ，占用两个字节，两个字 符的实际数据就占用4个字节。如果把该列的字符集修改为 <code>utf8</code> 的话，这两个字符就实际占用6个字节</p> <h3 id="_5-3、字符集与比较规则-了解"><a href="#_5-3、字符集与比较规则-了解" class="header-anchor">#</a> 5.3、字符集与比较规则(了解)</h3> <h4 id="_1、utf8-与-utf8mb4"><a href="#_1、utf8-与-utf8mb4" class="header-anchor">#</a> 1、utf8 与 utf8mb4</h4> <p><code>utf8</code> 字符集表示一个字符需要使用1～4个字节，但是我们常用的一些字符使用1～3个字节就可以表示 了。而字符集表示一个字符所用的最大字节长度，在某些方面会影响系统的存储和性能，所以设计 <code>MySQL</code>的设计者偷偷的定义了两个概念：</p> <ul><li><code>utf8mb3</code> ：阉割过的 <code>utf8</code> 字符集，只使用1～3个字节表示字符。</li> <li><code>utf8mb4</code> ：正宗的 <code>utf8</code> 字符集，使用1～4个字节表示字符。</li></ul> <h4 id="_2、比较规则"><a href="#_2、比较规则" class="header-anchor">#</a> 2、比较规则</h4> <p>上表中，MySQL版本一共支持41种字符集，其中的 <code>Default collation</code> 列表示这种字符集中一种默认 的比较规则，里面包含着该比较规则主要作用于哪种语言，比如 <code>utf8_polish_ci</code> 表示以波兰语的规则 比较， <code>utf8_spanish_ci</code> 是以西班牙语的规则比较， <code>utf8_general_ci</code> 是一种通用的比较规则。</p> <p>后缀表示该比较规则是否区分语言中的重音、大小写。具体如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.mjcy1r7xhsw.webp" alt="image"></p> <p>最后一列 <code>Maxlen</code> ，它代表该种字符集表示一个字符最多需要几个字节。</p> <p><strong>常用操作1</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查看GBK字符集的比较规则</span>
<span class="token keyword">SHOW</span> COLLATION <span class="token operator">LIKE</span> <span class="token string">'gbk%'</span><span class="token punctuation">;</span>

<span class="token comment">#查看UTF-8字符集的比较规则</span>
<span class="token keyword">SHOW</span> COLLATION <span class="token operator">LIKE</span> <span class="token string">'utf8%'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>常用操作2</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查看服务器的字符集和比较规则</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'%_server'</span><span class="token punctuation">;</span>
<span class="token comment">#查看数据库的字符集和比较规则</span>
<span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'%_database'</span><span class="token punctuation">;</span>
<span class="token comment">#查看具体数据库的字符集</span>
<span class="token keyword">SHOW</span> <span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> dbtest1<span class="token punctuation">;</span>
<span class="token comment">#修改具体数据库的字符集</span>
<span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> dbtest1 <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token string">'utf8'</span> <span class="token keyword">COLLATE</span> <span class="token string">'utf8_general_ci'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>常用操作3</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#查看表的字符集</span>
<span class="token keyword">show</span> <span class="token keyword">create</span> <span class="token keyword">table</span> employees<span class="token punctuation">;</span>
<span class="token comment">#查看表的比较规则</span>
<span class="token keyword">show</span> <span class="token keyword">table</span> <span class="token keyword">status</span> <span class="token keyword">from</span> atguigudb <span class="token operator">like</span> <span class="token string">'employees'</span><span class="token punctuation">;</span>
<span class="token comment">#修改表的字符集和比较规则</span>
<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp1 <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> <span class="token string">'utf8'</span> <span class="token keyword">COLLATE</span> <span class="token string">'utf8_general_ci'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="_5-4、请求到响应过程中字符集的变化"><a href="#_5-4、请求到响应过程中字符集的变化" class="header-anchor">#</a> 5.4、请求到响应过程中字符集的变化</h3> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4w8xrvm469w0.webp" alt="image"></p> <p>这几个系统变量在我的计算机上的默认值如下（不同操作系统的默认值可能不同）：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.68sywnpvf7g0.webp" alt="image"></p> <p>为了体现出字符集在请求处理过程中的变化，我们这里特意修改一个系统变量的值：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code>mysql<span class="token operator">&gt;</span> <span class="token keyword">set</span> character_set_connection <span class="token operator">=</span> gbk<span class="token punctuation">;</span>
Query OK<span class="token punctuation">,</span> <span class="token number">0</span> <span class="token keyword">rows</span> affected <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>现在假设我们客户端发送的请求是下边这个字符串：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> t <span class="token keyword">WHERE</span> s <span class="token operator">=</span> <span class="token string">'我'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>为了方便大家理解这个过程，我们只分析字符 <code>'我'</code> 在这个过程中字符集的转换。</p> <p>现在看一下在请求从发送到结果返回过程中字符集的变化：</p> <ol><li><p>客户端发送请求所使用的字符集</p> <p>一般情况下客户端所使用的字符集和当前操作系统一致，不同操作系统使用的字符集可能不一 样，如下：</p> <ul><li>类 <code>Unix</code> 系统使用的是 <code>utf8</code></li> <li><code>Windows</code> 使用的是 gbk</li></ul> <p>当客户端使用的是 <code>utf8</code> 字符集，字符 '我' 在发送给服务器的请求中的字节形式就是： <code>0xE68891</code></p></li></ol> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如果你使用的是可视化工具，比如navicat之类的，这些工具可能会使用自定义的字符集来编 码发送到服务器的字符串，而不采用操作系统默认的字符集（所以在学习的时候还是尽量用 命令行窗口）。</p></div> <ol start="2"><li><p>服务器接收到客户端发送来的请求其实是一串二进制的字节，它会认为这串字节采用的字符集是 <code>character_set_client</code> ，然后把这串字节转换为 <code>character_set_connection</code> 字符集编码的 字符。</p> <p>由于我的计算机上 <code>character_set_client</code> 的值是 <code>utf8</code> ，首先会按照 <code>utf8</code> 字符集对字节串 <code>0xE68891</code> 进行解码，得到的字符串就是 <code>'我'</code> ，然后按照 <code>character_set_connection</code> 代表的 字符集，也就是 <code>gbk</code> 进行编码，得到的结果就是字节串 <code>0xCED2</code> 。</p></li> <li><p>因为表 <code>t</code> 的列 <code>col</code> 采用的是 <code>gbk</code> 字符集，与 <code>character_set_connection</code> 一致，所以直接到列 中找字节值为 <code>0xCED2</code> 的记录，最后找到了一条记录。</p></li></ol> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如果某个列使用的字符集和<code>character_set_connection</code>代表的字符集不一致的话，还需要进行 一次字符集转换。</p></div> <ol start="4"><li>上一步骤找到的记录中的 <code>col</code> 列其实是一个字节串 0xCED2 ， <code>col</code> 列是采用 <code>gbk</code> 进行编码的，所 以首先会将这个字节串使用 gbk 进行解码，得到字符串 '我' ，然后再把这个字符串使用 <code>character_set_results</code> 代表的字符集，也就是 <code>utf8</code> 进行编码，得到了新的字节串： <code>0xE68891</code> ，然后发送给客户端。</li> <li>由于客户端是用的字符集是 <code>utf8</code> ，所以可以顺利的将 <code>0xE68891</code> 解释成字符 <code>我</code> ，从而显示到我 们的显示器上，所以我们人类也读懂了返回的结果。</li></ol> <p>总结图示如下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.2w5x3h1rp440.webp" alt="image"></p> <h2 id="_6、sql大小写规范"><a href="#_6、sql大小写规范" class="header-anchor">#</a> 6、SQL大小写规范</h2> <h3 id="_6-1、windows和linux平台区别"><a href="#_6-1、windows和linux平台区别" class="header-anchor">#</a> 6.1、Windows和Linux平台区别</h3> <p>在 SQL 中，关键字和函数名是不用区分字母大小写的，比如 SELECT、WHERE、ORDER、GROUP BY 等关 键字，以及 ABS、MOD、ROUND、MAX 等函数名。</p> <p>不过在 SQL 中，你还是要确定大小写的规范，因为在 Linux 和 Windows 环境下，你可能会遇到不同的大 小写问题。 <code>windows系统默认大小写不敏感</code> ，但是 linux系统是大小写敏感的 。</p> <p>通过如下命令查看：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SHOW</span> VARIABLES <span class="token operator">LIKE</span> <span class="token string">'%lower_case_table_names%'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li><p>Windows系统下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.3zimask88ce0.webp" alt="image"></p></li> <li><p>Linux系统下：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.6ybqjhy2ua40.webp" alt="image"></p></li> <li><p>lower_case_table_names参数值的设置：</p> <ul><li><code>默认为0，大小写敏感</code> 。</li> <li>设置1，大小写不敏感。创建的表，数据库都是以小写形式存放在磁盘上，对于sql语句都是转 换为小写对表和数据库进行查找。</li> <li>设置2，创建的表和数据库依据语句上格式存放，凡是查找都是转换为小写进行。</li></ul></li> <li><p>两个平台上SQL大小写的区别具体来说：</p></li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>MySQL在Linux下数据库名、表名、列名、别名大小写规则是这样的：</p> <p>1、数据库名、表名、表的别名、变量名是严格区分大小写的；</p> <p>2、关键字、函数名称在 SQL 中不区分大小写；</p> <p>3、列名（或字段名）与列的别名（或字段别名）在所有的情况下均是忽略大小写的；</p> <p><strong>MySQL在Windows的环境下全部不区分大小写</strong></p></div> <h3 id="_6-2、linux下大小写规则设置"><a href="#_6-2、linux下大小写规则设置" class="header-anchor">#</a> 6.2、Linux下大小写规则设置</h3> <p>当想设置为大小写不敏感时，要在 <code>my.cnf</code> 这个配置文件 <code>[mysqld]</code> 中加入 <code>lower_case_table_names=1</code> ，然后重启服务器。</p> <ul><li><p>但是要在重启数据库实例之前就需要将原来的数据库和表转换为小写，否则将找不到数据库名。</p></li> <li><p>此参数适用于MySQL5.7。在MySQL 8下禁止在重新启动 MySQL 服务时将 <code>lower_case_table_names</code> 设置成不同于初始化 MySQL 服务时设置的 <code>lower_case_table_names</code> 值。如果非要将MySQL8设置为大小写不敏感，具体步骤为：</p> <p>1、停止MySQL服务</p> <p>2、删除数据目录，即删除 /var/lib/mysql 目录</p> <p>3、在MySQL配置文件（ /etc/my.cnf ）中添加 lower_case_table_names=1</p> <p>4、启动MySQL服务</p></li></ul> <h3 id="_6-3、sql编写建议"><a href="#_6-3、sql编写建议" class="header-anchor">#</a> 6.3、SQL编写建议</h3> <p>如果你的变量名命名规范没有统一，就可能产生错误。这里有一个有关命名规范的建议：</p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <ol><li>关键字和函数名称全部大写；</li> <li>数据库名、表名、表别名、字段名、字段别名等全部小写；</li> <li>SQL 语句必须以分号结尾。</li></ol></div> <p>数据库名、表名和字段名在 Linux MySQL 环境下是区分大小写的，因此建议你统一这些字段的命名规 则，比如全部采用小写的方式。</p> <p>虽然关键字和函数名称在 SQL 中不区分大小写，也就是如果小写的话同样可以执行。但是同时将关键词 和函数名称全部大写，以便于区分数据库名、表名、字段名。</p> <h2 id="_7、sql-mode的合理设置"><a href="#_7、sql-mode的合理设置" class="header-anchor">#</a> 7、sql_mode的合理设置</h2> <h3 id="_7-1、宽松模式-vs-严格模式"><a href="#_7-1、宽松模式-vs-严格模式" class="header-anchor">#</a> 7.1、宽松模式 vs 严格模式</h3> <p><strong>宽松模式</strong></p> <p>如果设置的是宽松模式，那么我们在插入数据的时候，即便是给了一个错误的数据，也可能会被接受， 并且不报错。</p> <p>举例 ：我在创建一个表时，该表中有一个字段为name，给name设置的字段类型时 <code>char(10)</code> ，如果我 在插入数据的时候，其中name这个字段对应的有一条数据的 <code>长度超过了10</code> ，例如'1234567890abc'，超 过了设定的字段长度10，那么不会报错，并且取前10个字符存上，也就是说你这个数据被存为 了'1234567890'，而'abc'就没有了。但是，我们给的这条数据是错误的，因为超过了字段长度，但是并没 有报错，并且mysql自行处理并接受了，这就是宽松模式的效果。</p> <p><code>应用场景</code> ：通过设置sql mode为宽松模式，来保证大多数sql符合标准的sql语法，这样应用在不同数据 库之间进行 <code>迁移</code> 时，则不需要对业务sql 进行较大的修改。</p> <p><strong>严格模式</strong></p> <p>出现上面宽松模式的错误，应该报错才对，所以MySQL5.7版本就将sql_mode默认值改为了严格模式。所 以在 <code>生产等环境</code> 中，我们必须采用的是严格模式，进而 <code>开发、测试环境</code> 的数据库也必须要设置，这样在 开发测试阶段就可以发现问题。并且我们即便是用的MySQL5.6，也应该自行将其改为严格模式。</p> <p><code>开发经验</code> ：MySQL等数据库总想把关于数据的所有操作都自己包揽下来，包括数据的校验，其实开发 中，我们应该在自己 开发的项目程序级别将这些校验给做了 ，虽然写项目的时候麻烦了一些步骤，但是这 样做之后，我们在进行数据库迁移或者在项目的迁移时，就会方便很多。</p> <p>改为严格模式后可能会存在的问题：</p> <p>若设置模式中包含了 <code>NO_ZERO_DATE</code> ，那么MySQL数据库不允许插入零日期，插入零日期会抛出错误而 不是警告。例如，表中含字段TIMESTAMP列（如果未声明为NULL或显示DEFAULT子句）将自动分配 DEFAULT '0000-00-00 00:00:00'（零时间戳），这显然是不满足sql_mode中的NO_ZERO_DATE而报错。</p> <h3 id="_7-2、宽松模式再举例"><a href="#_7-2、宽松模式再举例" class="header-anchor">#</a> 7.2、宽松模式再举例</h3> <p><strong>宽松模式举例1</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">group</span> <span class="token keyword">by</span> department_id <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
<span class="token keyword">set</span> sql_mode <span class="token operator">=</span> ONLY_FULL_GROUP_BY<span class="token punctuation">;</span>
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> employees <span class="token keyword">group</span> <span class="token keyword">by</span> department_id <span class="token keyword">limit</span> <span class="token number">10</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1wrsmhpczjvk.webp" alt="image"></p> <p><strong>宽松模式举例2</strong></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.1nczapxkvxs0.webp" alt="image"></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.74noj54ntic0.webp" alt="image"></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.4f6f9xf34wi0.webp" alt="image"></p> <p>设置 sql_mode 模式为 STRICT_TRANS_TABLES ，然后插入数据：</p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.13qp4uuems9s.webp" alt="image"></p> <h3 id="_7-3、模式查看和设置"><a href="#_7-3、模式查看和设置" class="header-anchor">#</a> 7.3、模式查看和设置</h3> <p><strong>查看当前的sql_mode</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> @<span class="token variable">@session.sql_mode</span>
<span class="token keyword">select</span> @<span class="token variable">@global.sql_mode</span>
<span class="token comment"># 或者</span>
<span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">'sql_mode'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.r4s1r7le90g.webp" alt="image"></p> <p><img src="https://cdn.jsdelivr.net/gh/Weibw162/image-hosting@dev/MySQL%E8%BF%9B%E9%98%B6/image.5ezwpyvc6v40.webp" alt="image"></p> <p><strong>临时设置方式：设置当前窗口中设置sql_mode</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SET</span> <span class="token keyword">GLOBAL</span> sql_mode <span class="token operator">=</span> <span class="token string">'modes...'</span><span class="token punctuation">;</span> <span class="token comment">#全局</span>
<span class="token keyword">SET</span> <span class="token keyword">SESSION</span> sql_mode <span class="token operator">=</span> <span class="token string">'modes...'</span><span class="token punctuation">;</span> <span class="token comment">#当前会话</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>举例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">#改为严格模式。此方法只在当前会话中生效，关闭当前会话就不生效了。</span>
<span class="token keyword">set</span> <span class="token keyword">SESSION</span> sql_mode<span class="token operator">=</span><span class="token string">'STRICT_TRANS_TABLES'</span><span class="token punctuation">;</span>
<span class="token comment">#改为严格模式。此方法在当前服务中生效，重启MySQL服务后失效。</span>
<span class="token keyword">set</span> <span class="token keyword">GLOBAL</span> sql_mode<span class="token operator">=</span><span class="token string">'STRICT_TRANS_TABLES'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>永久设置方式：在/etc/my.cnf中配置sql_mode</strong></p> <p>在my.cnf文件(windows系统是my.ini文件)，新增：</p> <div class="language-ini line-numbers-mode"><pre class="language-ini"><code><span class="token section"><span class="token punctuation">[</span><span class="token section-name selector">mysqld</span><span class="token punctuation">]</span></span> <span class="token key attr-name">sql_mode</span><span class="token punctuation">=</span><span class="token value attr-value">ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>然后 <code>重启MySQL</code> 。</p> <p>当然生产环境上是禁止重启MySQL服务的，所以采用 <code>临时设置方式 + 永久设置方式</code> 来解决线上的问题，那么即便是有一天真的重启了MySQL服务，也会永久生效了。</p></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/weibw162/weibw162.github.io/edit/master/docs/03.数据库/01.MySQL/02.MySQL进阶/01.Linux下MySQL的安装与使用.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/10/13, 17:39:25</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/4cb971/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">基本的SQL语句</div></a> <a href="/pages/52fc53/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">MySQL的数据目录</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/4cb971/" class="prev">基本的SQL语句</a></span> <span class="next"><a href="/pages/52fc53/">MySQL的数据目录</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/fa4b28/"><div>牛客网非技术快速入门SQL练习题</div></a> <span>03-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/e7a859/"><div>其他日常SQL题</div></a> <span>03-07</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/266896/"><div>用户与权限管理</div></a> <span>03-05</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:weibw162@163.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/weibw162" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>| Weibw | <a href="https://beian.miit.gov.cn/" target="_blank" style="font-weight:normal">辽ICP备18015889号</a> </span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:1;"></div> <!----> <!----></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.7df3e72d.js" defer></script><script src="/assets/js/2.0f973f23.js" defer></script><script src="/assets/js/3.004d1f99.js" defer></script><script src="/assets/js/20.21ca3cc8.js" defer></script>
  </body>
</html>
